<div id="cain-dice-panel" class="cain-dice-panel">
  <div class="cain-dice-panel-header">
    <img src="systems/cain/assets/brain.png" class="cain-dice-icon"/>
    <span>DICE ROLLER</span>
    <button type="button" class="cain-theme-toggle" title="Change Theme">
      <i class="fas fa-palette"></i>
    </button>
    <button type="button" class="cain-panel-toggle" title="Toggle Panel">
      <i class="fas fa-chevron-up"></i>
    </button>
  </div>

  <div class="cain-dice-panel-body">
    {{!-- Character Select (for players) or GM Player Select --}}
    <div class="cain-dice-row">
      <label>{{#if isGM}}Player:{{else}}Char:{{/if}}</label>
      <select class="cain-character-select">
        <option value="">-- Select --</option>
      </select>
    </div>

    {{!-- Skill Selection and Pool --}}
    <div class="cain-dice-row">
      <select class="cain-skill-select">
        {{#each skills}}
        <option value="{{this.key}}">{{this.label}}</option>
        {{/each}}
        <option value="psyche">Psyche</option>
      </select>
      <input type="number" class="cain-dice-pool" value="1" min="0" max="10" title="Dice Pool"/>
    </div>

    {{!-- Modifiers --}}
    <div class="cain-dice-row cain-modifiers">
      <label><input type="number" class="cain-extra-dice" value="0" min="-5" max="5"/><span>+/-</span></label>
      <label><input type="checkbox" class="cain-hard-roll"/><span>Hard</span></label>
      <label><input type="checkbox" class="cain-whisper"/><span>GM</span></label>
    </div>

    {{!-- Divine Agony --}}
    <div class="cain-dice-row cain-divine-agony-row">
      <label class="cain-divine-agony-label">
        <input type="checkbox" class="cain-use-divine-agony"/>
        <span class="cain-divine-agony-text">
          <i class="fas fa-fire-alt"></i>
          Divine Agony
        </span>
        <span class="cain-divine-agony-value" title="Current Divine Agony">0</span>
      </label>
    </div>

    {{!-- Roll Button --}}
    <div class="cain-dice-row">
      <button type="button" class="cain-roll-skill"><i class="fas fa-dice-d6"></i> ROLL</button>
    </div>

    {{!-- Quick Rolls - All on one line --}}
    <div class="cain-dice-row cain-quick-rolls">
      <button type="button" class="cain-roll-rest" title="Rest Dice (2d3)">
        <i class="fas fa-bed"></i>
        <span>Rest</span>
      </button>
      {{#if isGM}}
      <button type="button" class="cain-roll-risk" title="Risk Roll (1d6)">
        <i class="fas fa-exclamation-triangle"></i>
        <span>Risk</span>
      </button>
      <button type="button" class="cain-roll-fate" title="Fate Roll (1d6)">
        <i class="fas fa-star"></i>
        <span>Fate</span>
      </button>
      <button type="button" class="cain-roll-custom" title="Custom Roll">
        <i class="fas fa-cog"></i>
        <span>Custom</span>
      </button>
      {{/if}}
    </div>
  </div>
</div>
